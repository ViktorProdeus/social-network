(this["webpackJsonpreact-way-of-samurai-ts"]=this["webpackJsonpreact-way-of-samurai-ts"]||[]).push([[0],{14:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__9d_03",listReset:"Dialogs_listReset__2DZjo",dialogsItems:"Dialogs_dialogsItems__3xfpV",active:"Dialogs_active__R-dH6",messages:"Dialogs_messages__32clz",messenger:"Dialogs_messenger__3HgeR",textareaWrapper:"Dialogs_textareaWrapper__18KeY",submitWrapper:"Dialogs_submitWrapper__3N8VE"}},20:function(e,t,s){e.exports={dialogItem:"DialogItem_dialogItem__3VzTr",link:"DialogItem_link__2xWDI",active:"DialogItem_active__bUNsx"}},21:function(e,t,s){e.exports={message:"Message_message__1TnnS",user1:"Message_user1__S8wZx",user2:"Message_user2__2h3_T"}},24:function(e,t,s){e.exports={wrapper:"ProfileInfo_wrapper__2TN9j",preview:"ProfileInfo_preview__2NOY3"}},25:function(e,t,s){e.exports={wrapper:"MyPosts_wrapper__3pZ18",posts:"MyPosts_posts__3GeRT"}},26:function(e,t,s){e.exports={title:"Friends_title__18mMj",friendsList:"Friends_friendsList__200-J"}},27:function(e,t,s){e.exports={item:"FriendsItem_item__2fAi-",circle:"FriendsItem_circle__1Hy3A"}},33:function(e,t,s){},42:function(e,t,s){e.exports={header:"Header_header__1tXis"}},43:function(e,t,s){e.exports={profile:"Profile_profile__1U4Qr"}},44:function(e,t,s){e.exports={item:"Post_item__2ZpOe"}},45:function(e,t,s){e.exports={news:"News_news__3q4B5"}},46:function(e,t,s){e.exports={music:"Music_music__14jij"}},47:function(e,t,s){e.exports={settings:"Settings_settings__1Twb_"}},48:function(e,t,s){e.exports={siteBar:"SiteBar_siteBar__UVcXu"}},5:function(e,t,s){e.exports={users:"Users_users__ygJzY",leftContent:"Users_leftContent__3imbX",buttons:"Users_buttons__1TWgR",follow:"Users_follow__2fcw9",unfollow:"Users_unfollow__3FA7I",avatarBG:"Users_avatarBG__1o7T-",avatar:"Users_avatar__1n4J8",user:"Users_user__3zAP9",rightContent:"Users_rightContent__1TefX",innerLeft:"Users_innerLeft__38_DD",innerRight:"Users_innerRight__1zpr6",name:"Users_name__29eea",status:"Users_status__3wQOm",city:"Users_city__2e9I0",country:"Users_country__35-4c",page:"Users_page__Pgi1K",current:"Users_current__2iicU"}},57:function(e,t,s){},6:function(e,t,s){e.exports={wrapper:"Navbar_wrapper__3oknN",nav:"Navbar_nav__3j_MG",item:"Navbar_item__1OyJD",activeLink:"Navbar_activeLink__2Ubgr"}},82:function(e,t,s){"use strict";s.r(t);s(33);var a=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,84)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;s(e),a(e),n(e),r(e),c(e)}))},n=s(31),r=s(19),c=s(3),i=s(83),o="ADD-POST",u="UPDATE-NEW-POST-TEXT",l={posts:[{id:Object(i.a)(),message:"Hi, how are you?",likeCount:3},{id:Object(i.a)(),message:"How is your it-camasutra?",likeCount:13}],newPostText:""},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:var s={id:Object(i.a)(),message:e.newPostText,likeCount:0};return Object(c.a)(Object(c.a)({},e),{},{posts:[].concat(Object(r.a)(e.posts),[s]),newPostText:""});case u:return Object(c.a)(Object(c.a)({},e),{},{newPostText:t.newPostText});default:return e}},d="ADD-MESSAGE",b="UPDATE-NEW-MESSAGE",p={dialogs:[{id:Object(i.a)(),name:"Dimych"},{id:Object(i.a)(),name:"Andrey"},{id:Object(i.a)(),name:"Sveta"},{id:Object(i.a)(),name:"Sasha"},{id:Object(i.a)(),name:"Viktor"},{id:Object(i.a)(),name:"Valera"}],messages:[{id:Object(i.a)(),message:"Hi!",user:1},{id:Object(i.a)(),message:"Hi!",user:2},{id:Object(i.a)(),message:"How is your it-camasutra?",user:2},{id:Object(i.a)(),message:"Perfectly",user:1},{id:Object(i.a)(),message:"It's amazing",user:2},{id:Object(i.a)(),message:"Thanks",user:1}],newMessageText:""},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(c.a)(Object(c.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:Object(i.a)(),message:e.newMessageText,user:2}]),newMessageText:""});case b:return Object(c.a)(Object(c.a)({},e),{},{newMessageText:t.newMessageText});default:return e}},g={friends:[{id:Object(i.a)(),name:"Andrew"},{id:Object(i.a)(),name:"Sasha"},{id:Object(i.a)(),name:"Sveta"}]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return e},f="users/FOLLOW",_="users/UNFOLLOW",x="users/SET_USERS",h="users/SET_CURRENT_PAGE",v="users/SET_TOTAL_USERS_COUNT",w={users:[],pageSize:5,totalUsersCount:0,currentPage:1},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(c.a)(Object(c.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(c.a)(Object(c.a)({},e),{},{followed:!0}):e}))});case _:return Object(c.a)(Object(c.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(c.a)(Object(c.a)({},e),{},{followed:!1}):e}))});case x:return Object(c.a)(Object(c.a)({},e),{},{users:t.users});case h:return Object(c.a)(Object(c.a)({},e),{},{currentPage:t.currentPage});case v:return Object(c.a)(Object(c.a)({},e),{},{totalUsersCount:t.totalUsersCount});default:return e}},P=Object(n.a)({profilePage:j,dialogsPage:m,siteBar:O,usersPage:N}),T=Object(n.b)(P);window.store=T;var C=T,U=s(1),y=s.n(U),k=s(17),S=s.n(k),D=(s(57),s(42)),M=s.n(D),I=s(0),L=function(){return Object(I.jsx)("header",{className:M.a.header,children:Object(I.jsx)("img",{src:"https://www.meme-arsenal.com/memes/e207dd3d241976dcbca5fefcd1bfdc70.jpg",alt:"logo"})})},E=s(43),R=s.n(E),z=s(24),A=s.n(z),F=function(){return Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:A.a.preview,children:Object(I.jsx)("img",{src:"https://playprint.ru/images/catalog/categories/category-marvel-bg.jpg",alt:"background"})}),Object(I.jsx)("div",{className:A.a.wrapper,children:"ava + description"})]})},B=s(25),W=s.n(B),H=s(44),G=s.n(H),J=function(e){return Object(I.jsxs)("div",{className:G.a.item,children:[Object(I.jsx)("img",{src:"https://cva.ukzn.ac.za/wp-content/uploads/2019/07/profile-placeholder.png",alt:"avatar"}),e.message,Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{children:"\u2665"})," ",e.likeCount]})]})},V=function(e){var t=e.posts.map((function(e){return Object(I.jsx)(J,{id:e.id,message:e.message,likeCount:e.likeCount},e.id)})),s=Object(U.useRef)(null);return Object(I.jsxs)("div",{className:W.a.wrapper,children:[Object(I.jsx)("h3",{children:"My posts"}),Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{children:Object(I.jsx)("textarea",{ref:s,onChange:function(){if(s.current){var t,a=null===(t=s.current)||void 0===t?void 0:t.value;e.updateNewPostText(a)}},value:e.newPostText})}),Object(I.jsx)("div",{children:Object(I.jsx)("button",{onClick:function(){e.addPost()},children:"Add post"})})]}),Object(I.jsx)("div",{className:W.a.posts,children:t})]})},X=s(13),Z=Object(X.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{updateNewPostText:function(t){e(function(e){return{type:u,newPostText:e}}(t))},addPost:function(){e({type:o})}}}))(V),Y=function(){return Object(I.jsxs)("div",{className:R.a.profile,children:[Object(I.jsx)(F,{}),Object(I.jsx)(Z,{})]})},K=s(4),Q=s(45),q=s.n(Q),$=function(){return Object(I.jsx)("div",{className:q.a.news,children:"News"})},ee=s(46),te=s.n(ee),se=function(){return Object(I.jsx)("div",{className:te.a.music,children:"Music"})},ae=s(47),ne=s.n(ae),re=function(){return Object(I.jsx)("div",{className:ne.a.settings,children:"Settings"})},ce=s(6),ie=s.n(ce),oe=s(11),ue=s(48),le=s.n(ue),je=s(26),de=s.n(je),be=s(27),pe=s.n(be),me=function(e){return Object(I.jsxs)("li",{className:pe.a.item,children:[Object(I.jsx)("div",{className:pe.a.circle}),e.name]})},ge=function(e){var t=e.friends.map((function(e){return Object(I.jsx)(me,{id:e.id,name:e.name},e.id)}));return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h2",{className:de.a.title,children:"Friends"}),Object(I.jsx)("ul",{className:de.a.friendsList,children:t})]})},Oe=Object(X.b)((function(e){return{friends:e.siteBar.friends}}),{})((function(e){return Object(I.jsx)("div",{className:le.a.siteBar,children:Object(I.jsx)(ge,{friends:e.friends})})})),fe=function(){return Object(I.jsxs)("div",{className:ie.a.wrapper,children:[Object(I.jsxs)("nav",{className:ie.a.nav,children:[Object(I.jsx)("div",{className:ie.a.item,children:Object(I.jsx)(oe.b,{to:"/profile",activeClassName:ie.a.activeLink,children:"Profile"})}),Object(I.jsx)("div",{className:"".concat(ie.a.item," ").concat(ie.a.active),children:Object(I.jsx)(oe.b,{to:"/dialogs",activeClassName:ie.a.activeLink,children:"Messages"})}),Object(I.jsx)("div",{className:ie.a.item,children:Object(I.jsx)(oe.b,{to:"/users",activeClassName:ie.a.activeLink,children:"Users"})}),Object(I.jsx)("div",{className:ie.a.item,children:Object(I.jsx)(oe.b,{to:"/news",activeClassName:ie.a.activeLink,children:"News"})}),Object(I.jsx)("div",{className:ie.a.item,children:Object(I.jsx)(oe.b,{to:"/music",activeClassName:ie.a.activeLink,children:"Music"})}),Object(I.jsx)("div",{className:ie.a.item,children:Object(I.jsx)(oe.b,{to:"/settings",activeClassName:ie.a.activeLink,children:"Settings"})})]}),Object(I.jsx)(Oe,{})]})},_e=s(14),xe=s.n(_e),he=s(20),ve=s.n(he),we=function(e){var t="/dialogs/".concat(e.id);return Object(I.jsx)("li",{className:ve.a.dialogItem,children:Object(I.jsxs)(oe.b,{className:ve.a.link,activeClassName:ve.a.active,to:t,children:[Object(I.jsx)("img",{width:"30px",height:"30px",src:"https://cva.ukzn.ac.za/wp-content/uploads/2019/07/profile-placeholder.png",alt:"avatar"}),e.name]})})},Ne=s(21),Pe=s.n(Ne),Te=function(e){var t=1===e.user?Pe.a.user1:Pe.a.user2;return Object(I.jsx)("li",{className:Pe.a.message+" "+t,children:e.message})},Ce=function(e){var t=e.dialogsPage,s=t.dialogs.map((function(e){return Object(I.jsx)(we,{id:e.id,name:e.name},e.id)})),a=t.messages.map((function(e){return Object(I.jsx)(Te,{id:e.id,user:e.user,message:e.message},e.id)})),n=Object(U.useRef)(null);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:xe.a.dialogs,children:[Object(I.jsx)("ul",{className:xe.a.dialogsItems+" "+xe.a.listReset,children:s}),Object(I.jsx)("ul",{className:xe.a.messages+" "+xe.a.listReset,children:a})]}),Object(I.jsxs)("div",{className:xe.a.messenger,children:[Object(I.jsx)("div",{className:xe.a.textareaWrapper,children:Object(I.jsx)("textarea",{placeholder:"...Enter your message",ref:n,value:t.newMessageText,onChange:function(){if(n.current){var t,s=null===(t=n.current)||void 0===t?void 0:t.value;e.updateNewMessageText(s)}}})}),Object(I.jsx)("div",{className:xe.a.submitWrapper,children:Object(I.jsx)("button",{onClick:function(){e.sendMessage()},children:"Send"})})]})]})},Ue=Object(X.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{updateNewMessageText:function(t){e(function(e){return{type:b,newMessageText:e}}(t))},sendMessage:function(){e({type:d})}}}))(Ce),ye=s(49),ke=s(50),Se=s(52),De=s(51),Me=s(5),Ie=s.n(Me),Le=s.p+"static/media/avatar.2479805a.png",Ee=s(30),Re=s.n(Ee),ze=function(e){Object(Se.a)(s,e);var t=Object(De.a)(s);function s(){return Object(ye.a)(this,s),t.apply(this,arguments)}return Object(ke.a)(s,[{key:"componentDidMount",value:function(){var e=this;Re.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(this.props.currentPage,"&count=").concat(this.props.pageSize)).then((function(t){e.props.setUsers(t.data.items),e.props.setTotalUsersCount(t.data.totalCount)}))}},{key:"onPageChanged",value:function(e){var t=this;this.props.setCurrentPage(e),Re.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(e,"&count=").concat(this.props.pageSize)).then((function(e){t.props.setUsers(e.data.items)}))}},{key:"render",value:function(){for(var e=this,t=Math.ceil(this.props.totalUsersCount/this.props.pageSize),s=[],a=1;a<=t;a++)s.push(a);return Object(I.jsxs)("div",{className:Ie.a.users,children:[Object(I.jsx)("div",{className:"pagination",children:s.map((function(t,s){return Object(I.jsx)("span",{className:e.props.currentPage===t?"".concat(Ie.a.current," ").concat(Ie.a.page):Ie.a.page,onClick:function(){e.onPageChanged(t)},children:t},s)}))}),this.props.users.map((function(t){return Object(I.jsxs)("div",{className:Ie.a.user,children:[Object(I.jsxs)("div",{className:Ie.a.leftContent,children:[Object(I.jsx)("div",{className:Ie.a.avatarBG,children:Object(I.jsx)("img",{className:Ie.a.avatar,src:null!==t.photos.small?t.photos.small:Le,alt:"avatar"})}),Object(I.jsx)("div",{className:Ie.a.buttons,children:t.followed?Object(I.jsx)("button",{className:t.followed?Ie.a.unfollow:Ie.a.follow,onClick:function(){e.props.unfollow(t.id)},children:"Unfollow"}):Object(I.jsx)("button",{className:t.followed?Ie.a.unfollow:Ie.a.follow,onClick:function(){e.props.follow(t.id)},children:"Follow"})})]}),Object(I.jsxs)("div",{className:Ie.a.rightContent,children:[Object(I.jsxs)("div",{className:Ie.a.innerLeft,children:[Object(I.jsx)("div",{className:Ie.a.name,children:t.name}),Object(I.jsx)("div",{className:Ie.a.status,children:t.status})]}),Object(I.jsxs)("div",{className:Ie.a.innerRight,children:[Object(I.jsx)("div",{className:Ie.a.country,children:"u.location.country"}),Object(I.jsx)("div",{className:Ie.a.city,children:"u.location.city"})]})]})]},t.id)}))]})}}]),s}(y.a.Component),Ae=Object(X.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage}}),(function(e){return{follow:function(t){e(function(e){return{type:f,userID:e}}(t))},unfollow:function(t){e(function(e){return{type:_,userID:e}}(t))},setUsers:function(t){e(function(e){return{type:x,users:e}}(t))},setCurrentPage:function(t){e({type:h,currentPage:t})},setTotalUsersCount:function(t){e(function(e){return{type:v,totalUsersCount:e}}(t))}}}))(ze),Fe=function(){return Object(I.jsxs)("div",{className:"app-wrapper",children:[Object(I.jsx)(L,{}),Object(I.jsx)(fe,{}),Object(I.jsxs)("div",{className:"app-wrapper-content",children:[Object(I.jsx)(K.a,{path:"/dialogs",render:function(){return Object(I.jsx)(Ue,{})}}),Object(I.jsx)(K.a,{path:"/profile",render:function(){return Object(I.jsx)(Y,{})}}),Object(I.jsx)(K.a,{path:"/news",render:function(){return Object(I.jsx)($,{})}}),Object(I.jsx)(K.a,{path:"/music",render:function(){return Object(I.jsx)(se,{})}}),Object(I.jsx)(K.a,{path:"/settings",render:function(){return Object(I.jsx)(re,{})}}),Object(I.jsx)(K.a,{path:"/users",render:function(){return Object(I.jsx)(Ae,{})}})]})]})};S.a.render(Object(I.jsx)(y.a.StrictMode,{children:Object(I.jsx)(oe.a,{children:Object(I.jsx)(X.a,{store:C,children:Object(I.jsx)(Fe,{})})})}),document.getElementById("root")),a()}},[[82,1,2]]]);
//# sourceMappingURL=main.c2eb8c05.chunk.js.map